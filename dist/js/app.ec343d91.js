(function(t){function e(e){for(var n,o,c=e[0],r=e[1],l=e[2],d=0,p=[];d<c.length;d++)o=c[d],Object.prototype.hasOwnProperty.call(a,o)&&a[o]&&p.push(a[o][0]),a[o]=0;for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n]);u&&u(e);while(p.length)p.shift()();return s.push.apply(s,l||[]),i()}function i(){for(var t,e=0;e<s.length;e++){for(var i=s[e],n=!0,c=1;c<i.length;c++){var r=i[c];0!==a[r]&&(n=!1)}n&&(s.splice(e--,1),t=o(o.s=i[0]))}return t}var n={},a={app:0},s=[];function o(e){if(n[e])return n[e].exports;var i=n[e]={i:e,l:!1,exports:{}};return t[e].call(i.exports,i,i.exports,o),i.l=!0,i.exports}o.m=t,o.c=n,o.d=function(t,e,i){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(o.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)o.d(i,n,function(e){return t[e]}.bind(null,n));return i},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="/";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],r=c.push.bind(c);c.push=e,c=c.slice();for(var l=0;l<c.length;l++)e(c[l]);var u=r;s.push([0,"chunk-vendors"]),i()})({0:function(t,e,i){t.exports=i("56d7")},"034f":function(t,e,i){"use strict";i("85ec")},"0d02":function(t,e,i){},2502:function(t,e,i){},3389:function(t,e,i){},"355d":function(t,e,i){"use strict";i("c7ba")},"38e8":function(t,e,i){},4776:function(t,e,i){},"4aa9":function(t,e,i){"use strict";i("2502")},"4eb2":function(t,e,i){},"56b0":function(t,e,i){"use strict";i("b771")},"56d7":function(t,e,i){"use strict";i.r(e);i("e260"),i("e6cf"),i("cca6"),i("a79d");var n=i("2b0e"),a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"app"}},[i("Navbar",{attrs:{toggleSidebar:t.updateS,setMainWindow:t.setMainWindow,email:t.email}}),i("div",{staticClass:"vertical-align"},[i("Sidebar",{attrs:{shown:this.shown,toggleSidebar:t.updateS,setMainWindow:t.setMainWindow}}),i("MainWindow",{attrs:{state:t.mainWindowState,setMainWindow:t.setMainWindow,api_url:this.API_URL,updateEmail:t.updateEmail}})],1)],1)},s=[],o=(i("99af"),i("d3b7"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"navbarContainer blue lighten-1"},[n("button",{staticClass:"name btn-floating waves-effect waves-light blue",on:{click:t.toggleSidebar}},[t._v(" Bug Tracker ")]),n("div",[t.email?n("span",[t._v(" Logged in as: "),n("i",[t._v(t._s(t.email))])]):t._e(),n("button",{staticClass:"my_button btn-floating waves-effect waves-light",on:{click:t.clickHandler}},[t._v(" Sign up/Sign in ")]),n("img",{attrs:{alt:"Vue logo",src:i("cf05")}})])])}),c=[],r={props:{toggleSidebar:Function,setMainWindow:Function,email:String},name:"Navbar",methods:{clickHandler:function(){this.setMainWindow("sign in")}}},l=r,u=(i("6815"),i("2877")),d=Object(u["a"])(l,o,c,!1,null,"4db5cbfc",null),p=d.exports,m=function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.shown?i("div",{staticClass:"sidebar pink lighten-4"},[i("button",{staticClass:"sidebar-element btn-floating waves-effect waves-teal cyan lighten-5",on:{click:t.myTicketsClickHandler}},[t._v(" My tickets ")]),i("button",{staticClass:"sidebar-element btn-floating waves-effect waves-teal cyan lighten-5",on:{click:t.sendNewTicketClickHandler}},[t._v(" Send new ticket ")])]):t._e()},f=[],v={props:{shown:Boolean,setMainWindow:Function,toggleSidebar:Function},name:"Sidebar",methods:{myTicketsClickHandler:function(){this.setMainWindow("my tickets"),this.toggleSidebar()},myCompanyTicketsClickHandler:function(){this.setMainWindow("my company tickets"),this.toggleSidebar()},sendNewTicketClickHandler:function(){this.setMainWindow("send new ticket"),this.toggleSidebar()}}},h=v,g=(i("56b0"),Object(u["a"])(h,m,f,!1,null,"2e8cf0bb",null)),k=g.exports,w=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"mainWindowContainer teal lighten-5"},["home"===t.state?i("HomeWindow",{attrs:{api_url:this.api_url}}):"my tickets"===t.state?i("MyTicketsWindow",{attrs:{setMainWindow:this.setMainWindow,setTicketId:t.setTicketId,api_url:this.api_url}}):"update ticket"===t.state?i("UpdateTicketsWindow",{attrs:{setMainWindow:this.setMainWindow,tid:this.ticket_id,api_url:this.api_url}}):"send new ticket"===t.state?i("SendNewTicketWindow",{attrs:{api_url:this.api_url}}):"sign in"===t.state?i("SignInWindow",{attrs:{api_url:this.api_url,updateEmail:t.updateEmail}}):t._e()],1)},_=[],b=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},y=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("h1",[t._v("Home page")]),i("p",[t._v(" Log in to app to use it to send each other tickets! ")]),i("p",[t._v(" Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum. ")])])}],S={props:{api_url:String},name:"HomeWindow"},W=S,x=Object(u["a"])(W,b,y,!1,null,"776fa101",null),T=x.exports,C=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("h1",[t._v("My tickets")]),t.tickets.message?i("div",[i("span",[t._v(t._s(t.tickets.message))])]):this.loaded?i("div",t._l(t.tickets,(function(e,n){return i("div",{key:n},[i("Ticket",{attrs:{setTicketId:t.setTicketId,setMainWindow:t.setMainWindow,ticketData:e,api_url:t.api_url}})],1)})),0):i("Loading")],1)},M=[],O=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"card large blue-grey darken-1 waves-effect waves-light my-card"},[i("span",[t._v("type: "),i("i",[t._v(t._s(this.ticketData.type))])]),i("span",[t._v("To: "),i("i",[t._v(t._s(this.ticketData.email_to))])]),i("span",[t._v("From: "),i("i",[t._v(t._s(this.ticketData.email))])]),i("span",[t._v("Files: "),i("i",[t._v(t._s(this.ticketData.filenames))])]),i("pre",[t._v(t._s(this.ticketData.text))]),i("div",{staticClass:"card-action"},[this.ticketData.isYours?i("div",[i("button",{staticClass:"btn-floating waves-effect waves-light lime accent-2",on:{click:t.removeTicket}},[t._v(" Remove ticket ")])]):t._e(),i("div",[i("button",{staticClass:"btn-floating waves-effect waves-light lime accent-2",on:{click:t.sendBackTicket}},[t._v(" Send back ticket ")])])])])},j=[],I={props:{ticketData:Object,setTicketId:Function,setMainWindow:Function,api_url:String},name:"Ticket",methods:{removeTicket:function(){var t=window.localStorage.getItem("token"),e={action:{type:"delete"},ticketId:this.ticketData._id};e.token=t,fetch("".concat(this.api_url,"/ticketsUpdate?token=").concat(t),{method:"POST",body:JSON.stringify(e),headers:{"content-type":"application/json"}}).catch((function(t){console.error(t)}))},sendBackTicket:function(){this.setTicketId(this.ticketData._id),this.setMainWindow("update ticket")}},mounted:function(){}},D=I,E=(i("8264"),Object(u["a"])(D,O,j,!1,null,"8b16bac6",null)),P=E.exports,N=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"lds-hourglass"})},F=[],$={name:"Loading"},U=$,R=(i("66c3"),Object(u["a"])(U,N,F,!1,null,"51f30669",null)),H=R.exports,L={props:{api_url:String,setTicketId:Function,setMainWindow:Function},data:function(){return{tickets:[],loaded:!1}},mounted:function(){var t=this,e=window.localStorage.getItem("token");fetch("".concat(this.api_url,"/tickets?token=").concat(e)).then((function(t){return t.json()})).then((function(e){t.tickets=e,t.loaded=!0}))},name:"MyTicketsWindow",components:{Ticket:P,Loading:H}},q=L,A=(i("d12f"),Object(u["a"])(q,C,M,!1,null,"fdb57c90",null)),B=A.exports,J=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("h1",[t._v("Send back ticket")]),i("div",{staticClass:"input-field"},[i("textarea",{directives:[{name:"model",rawName:"v-model",value:t.textResponse,expression:"textResponse"}],staticClass:"materialize-textarea",attrs:{rows:"3"},domProps:{value:t.textResponse},on:{input:function(e){e.target.composing||(t.textResponse=e.target.value)}}})]),i("button",{staticClass:"btn-floating waves-effect waves-light blue-grey darken-2",on:{click:t.addTicket}},[t._v(" send back ticket ")])])},z=[],Y={props:{api_url:String,setMainWindow:Function,tid:String},data:function(){return{textResponse:""}},methods:{addTicket:function(){var t=window.localStorage.getItem("token"),e={action:{type:"sendBack",text:this.textResponse},ticketId:this.tid};e.token=t,fetch("".concat(this.api_url,"/ticketsUpdate?token=").concat(t),{method:"POST",body:JSON.stringify(e),headers:{"content-type":"application/json"}}).catch((function(t){console.error(t)})),this.setMainWindow("my tickets")}},name:"UpdateTicketsWindow"},G=Y,V=(i("355d"),Object(u["a"])(G,J,z,!1,null,"da334bc6",null)),K=V.exports,Q=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("h1",[t._v("Send new ticket")]),i("form",{staticClass:"ticketForm",on:{submit:function(e){return e.preventDefault(),t.addTicket(e)}}},[i("div",{staticClass:"row"},[i("div",{staticClass:"input-field"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.ticket.filenames,expression:"ticket.filenames"}],attrs:{type:"text"},domProps:{value:t.ticket.filenames},on:{input:function(e){e.target.composing||t.$set(t.ticket,"filenames",e.target.value)}}})]),i("select",{directives:[{name:"model",rawName:"v-model",value:t.ticket.type,expression:"ticket.type"}],staticClass:"browser-default teal lighten-5",on:{change:function(e){var i=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.ticket,"type",e.target.multiple?i:i[0])}}},[i("option",{attrs:{value:"bug",selected:""}},[t._v("bug")]),i("option",{attrs:{value:"feature request"}},[t._v("feature request")]),i("option",{attrs:{value:"other mistake"}},[t._v("other mistake")]),i("option",{attrs:{value:"hack"}},[t._v("hack")])]),i("div",{staticClass:"input-field"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.ticket.email_to,expression:"ticket.email_to"}],attrs:{type:"text"},domProps:{value:t.ticket.email_to},on:{input:function(e){e.target.composing||t.$set(t.ticket,"email_to",e.target.value)}}})])]),i("div",{staticClass:"row"},[i("div",{staticClass:"input-field"},[i("textarea",{directives:[{name:"model",rawName:"v-model",value:t.ticket.text,expression:"ticket.text"}],staticClass:"materialize-textarea",attrs:{rows:"3"},domProps:{value:t.ticket.text},on:{input:function(e){e.target.composing||t.$set(t.ticket,"text",e.target.value)}}})]),i("button",{staticClass:"btn-floating waves-effect waves-light brown darken-1",attrs:{type:"submit"}},[t._v(" Add ticket ")])])])])},X=[],Z={props:{api_url:String},data:function(){return{ticket:{mail:"",text:"text",type:"bug",filenames:"filenames",email_to:"email to"}}},name:"SendNewTicketWindow",methods:{addTicket:function(){var t=window.localStorage.getItem("token"),e=this.ticket;e.token=t,fetch("".concat(this.api_url,"/tickets?token=").concat(t),{method:"POST",body:JSON.stringify(e),headers:{"content-type":"application/json"}}).catch((function(t){console.error(t)})),this.ticket.filenames="filenames",this.ticket.text="text",this.ticket.type="bug",this.ticket.email_to="email to"}}},tt=Z,et=(i("4aa9"),Object(u["a"])(tt,Q,X,!1,null,"e1aa187c",null)),it=et.exports,nt=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("h1",[t._v("Sign in page")]),this.areWeDone?i("div",[i("h2",[t._v("You are successfully logged in!")])]):i("div",[i("div",{staticClass:"selector"},[i("button",{staticClass:"btn-floating waves-effect waves-light blue-grey",on:{click:t.showSignIn}},[t._v(" Log in ")]),i("button",{staticClass:"btn-floating waves-effect waves-light blue-grey",on:{click:t.showSignUp}},[t._v(" Register ")])]),"sign in"===this.whatWeDo?i("div",[i("form",{staticClass:"signInForm",on:{submit:function(e){return e.preventDefault(),t.signIn(e)}}},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.email,expression:"email"}],attrs:{type:"email"},domProps:{value:t.email},on:{input:function(e){e.target.composing||(t.email=e.target.value)}}}),i("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],attrs:{type:"password"},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}}),i("button",{staticClass:"btn-floating waves-effect waves-light blue-grey",attrs:{type:"submit"}},[t._v(" Log in ")])])]):t._e(),"sign up"===this.whatWeDo?i("div",[i("form",{staticClass:"signUpForm",on:{submit:function(e){return e.preventDefault(),t.signUp(e)}}},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.email,expression:"email"}],attrs:{type:"email"},domProps:{value:t.email},on:{input:function(e){e.target.composing||(t.email=e.target.value)}}}),i("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],attrs:{type:"password"},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}}),i("button",{staticClass:"btn-floating waves-effect waves-light blue-grey darken-2",attrs:{type:"submit"}},[t._v(" Register ")])])]):t._e()])])},at=[],st={props:{api_url:String,updateEmail:Function},name:"SignInWindow",data:function(){return{email:"",password:"",token:"",whatWeDo:"sign in",areWeDone:!1}},methods:{signIn:function(){var t=this;fetch("".concat(this.api_url,"/users?email=").concat(this.email,"&password=").concat(this.password)).then((function(t){return t.json()})).then((function(e){window.localStorage.setItem("token",e),t.updateEmail(t.email),t.areWeDone=!0}))},showSignIn:function(){this.whatWeDo="sign in"},showSignUp:function(){this.whatWeDo="sign up"},signUp:function(){var t=this;fetch("".concat(this.api_url,"/usersReg?email=").concat(this.email,"&password=").concat(this.password),{method:"GET",mode:"no-cors"}).then((function(t){return t.json()})).then((function(e){t.token=e,t.setToken(t.token)}))}}},ot=st,ct=(i("7cce"),Object(u["a"])(ot,nt,at,!1,null,"69545ea4",null)),rt=ct.exports,lt={props:{state:String,api_url:String,setMainWindow:Function,updateEmail:Function},data:function(){return{ticket_id:""}},name:"MainWindow",methods:{setTicketId:function(t){this.ticket_id=t}},components:{HomeWindow:T,MyTicketsWindow:B,UpdateTicketsWindow:K,SendNewTicketWindow:it,SignInWindow:rt}},ut=lt,dt=(i("b014"),Object(u["a"])(ut,w,_,!1,null,null,null)),pt=dt.exports,mt={name:"App",data:function(){return{shown:!1,mainWindowState:"home",email:"",API_URL:"https://cors-anywhere.herokuapp.com/https://hello-wo.herokuapp.com/api"}},components:{Navbar:p,Sidebar:k,MainWindow:pt},methods:{updateS:function(){this.shown=!this.shown},updateEmail:function(t){this.email=t},setMainWindow:function(t){this.mainWindowState=t,console.log(t)}},mounted:function(){var t=this,e=window.localStorage.getItem("token");e&&fetch("".concat(this.API_URL,"/userCheck?token=").concat(e)).then((function(t){return t.json()})).then((function(e){console.log(e),t.email=e}))}},ft=mt,vt=(i("034f"),Object(u["a"])(ft,a,s,!1,null,null,null)),ht=vt.exports;n["a"].config.productionTip=!1,new n["a"]({render:function(t){return t(ht)}}).$mount("#app")},"66c3":function(t,e,i){"use strict";i("4eb2")},6815:function(t,e,i){"use strict";i("38e8")},"7cce":function(t,e,i){"use strict";i("4776")},"7e14":function(t,e,i){},8264:function(t,e,i){"use strict";i("0d02")},"85ec":function(t,e,i){},b014:function(t,e,i){"use strict";i("3389")},b771:function(t,e,i){},c7ba:function(t,e,i){},cf05:function(t,e,i){t.exports=i.p+"img/logo.82b9c7a5.png"},d12f:function(t,e,i){"use strict";i("7e14")}});
//# sourceMappingURL=app.ec343d91.js.map